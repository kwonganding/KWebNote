{"version":3,"file":"js/516.5e08c530.js","mappings":"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","sources":["webpack://bookadmin/./src/views/book/BookEdit.vue","webpack://bookadmin/./src/views/book/BookEdit.vue?ffb1","webpack://bookadmin/src/views/book/BookEdit.vue","webpack://bookadmin/./src/views/book/BookEdit.vue?d5f7"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{ref:\"bookForm\",attrs:{\"model\":_vm.book,\"rules\":_vm.bookRules,\"label-width\":\"90px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"名称：\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入书籍名称\",\"maxlength\":\"50\"},model:{value:(_vm.book.name),callback:function ($$v) {_vm.$set(_vm.book, \"name\", $$v)},expression:\"book.name\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"作者：\",\"prop\":\"author\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入书籍作者\",\"maxlength\":\"50\"},model:{value:(_vm.book.author),callback:function ($$v) {_vm.$set(_vm.book, \"author\", $$v)},expression:\"book.author\"}})],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"上架状态：\",\"prop\":\"status\"}},[_c('el-radio-group',{model:{value:(_vm.book.status),callback:function ($$v) {_vm.$set(_vm.book, \"status\", $$v)},expression:\"book.status\"}},_vm._l((_vm.$consts.bookStatus.entries),function(e){return _c('el-radio',{key:e.key,attrs:{\"border\":\"\",\"label\":e.key}},[_vm._v(_vm._s(e.text))])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"简介：\"}},[_c('el-input',{attrs:{\"maxlength\":\"600\",\"type\":\"textarea\",\"autosize\":{ minRows: 2, maxRows: 5},\"show-word-limit\":\"\"},model:{value:(_vm.book.introduction),callback:function ($$v) {_vm.$set(_vm.book, \"introduction\", $$v)},expression:\"book.introduction\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图片：\"}},[_c('el-input',{attrs:{\"placeholder\":\"图片url地址\"},model:{value:(_vm.book.img),callback:function ($$v) {_vm.$set(_vm.book, \"img\", $$v)},expression:\"book.img\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('div',{staticClass:\"dialog-imgbox\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.book.img),expression:\"book.img\"}],attrs:{\"src\":_vm.book.img,\"alt\":\"\"}})])])],1),_c('div',{staticClass:\"footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"icon\":\"el-icon-circle-close\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-success\",\"loading\":_vm.saveLoading},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BookEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BookEdit.vue?vue&type=script&lang=js&\"","//图书的编辑页面，通过路由打开，动态路由参数传值，弃用\r\n<template>\r\n  <div style=\"margin-top:15px\">\r\n    <el-form :model=\"book\" ref=\"bookForm\" :rules=\"bookRules\" label-width=\"90px\">\r\n      <el-row>\r\n        <el-col :span=\"12\">\r\n          <el-form-item label=\"名称：\" prop=\"name\">\r\n            <el-input v-model=\"book.name\" placeholder=\"输入书籍名称\" maxlength=\"50\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n          <el-form-item label=\"作者：\" prop=\"author\">\r\n            <el-input v-model=\"book.author\" placeholder=\"输入书籍作者\" maxlength=\"50\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-form-item label=\"上架状态：\" prop=\"status\">\r\n        <el-radio-group v-model=\"book.status\">\r\n          <el-radio border v-for=\"e in $consts.bookStatus.entries\" :label=\"e.key\" :key=\"e.key\">{{e.text}}</el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"简介：\">\r\n        <el-input v-model=\"book.introduction\" maxlength=\"600\" type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 5}\" show-word-limit></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"图片：\">\r\n        <el-input v-model=\"book.img\" placeholder=\"图片url地址\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label>\r\n        <div class=\"dialog-imgbox\">\r\n          <img :src=\"book.img\" alt v-show=\"book.img\" />\r\n        </div>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <div slot=\"footer\" class=\"footer\">\r\n      <el-button @click=\"$router.go(-1)\" icon=\"el-icon-circle-close\">取消</el-button>\r\n      <el-button @click=\"save\" type=\"primary\" icon=\"el-icon-success\" :loading=\"saveLoading\">保存</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script> \r\nexport default {\r\n  data: () => {\r\n    return {\r\n      saveLoading: false,\r\n\r\n      book: {},\r\n      dialogType: \"新增\",\r\n      bookRules: {\r\n        name: [{ required: true, message: '必填', trigger: 'blur' }],\r\n        author: [{ required: true, message: '必填', trigger: 'blur' }],\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    const id = this.$route.params?.id;\r\n    if (!id) {\r\n      this.book.status = 'normal';\r\n      return;\r\n    }\r\n    this.dialogType = \"修改\";\r\n    //调用API获取最新的对象\r\n    this.$axios.get('/api/book/id', { params: { id } }).then(res => {\r\n      if (res.status == '200' && res.data.status == 'OK') {\r\n        this.book = res.data.data;\r\n      }\r\n      else\r\n        this.$message.error(res.data.message);\r\n    })\r\n  },\r\n  methods: {\r\n    save() {\r\n      this.saveLoading = true;\r\n      this.$refs.bookForm.validate((valid, mes) => {\r\n        if (!valid) {\r\n          this.$message.error('输入有误，请修改后重新提交！');\r\n          return;\r\n        }\r\n        //调用后端api\r\n        this.$axios.post('/api/book/save', this.book).then(res => {\r\n          if (res.status == '200' && res.data.status == 'OK') {\r\n            this.$message.success('保存成功');\r\n            this.$router.go(-1);\r\n          }\r\n          else\r\n            this.$message.error(res.data.message);\r\n        })\r\n      })\r\n      this.saveLoading = false;\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.dialog-imgbox {\r\n  border: 1px dashed #0003;\r\n  width: 150px;\r\n  height: 100px;\r\n  text-align: center;\r\n  img {\r\n    height: 100%;\r\n    object-fit: contain;\r\n  }\r\n}\r\n.footer {\r\n  text-align: center;\r\n}\r\n</style>","import { render, staticRenderFns } from \"./BookEdit.vue?vue&type=template&id=eb8ea79a&scoped=true&\"\nimport script from \"./BookEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./BookEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookEdit.vue?vue&type=style&index=0&id=eb8ea79a&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eb8ea79a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["data","saveLoading","book","dialogType","bookRules","name","required","message","trigger","author","created","params","id","methods","save","_vm","this","_c","_self","staticStyle","ref","attrs","model","value","callback","$$v","$set","expression","status","_l","$consts","bookStatus","entries","e","key","_v","_s","text","minRows","maxRows","introduction","img","staticClass","directives","rawName","slot","on","$event","$router","go"],"sourceRoot":""}